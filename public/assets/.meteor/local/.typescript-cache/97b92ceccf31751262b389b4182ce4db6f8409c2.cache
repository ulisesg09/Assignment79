{"code":"var core_1 = require('@angular/core');\r\nvar ionic_angular_1 = require('ionic-angular');\r\nvar profile_1 = require('../profile/profile');\r\nvar phone_1 = require('../../services/phone');\r\nvar verification_html_1 = require('./verification.html');\r\nvar VerificationPage = (function () {\r\n    function VerificationPage(alertCtrl, navCtrl, navParams, phoneService) {\r\n        this.alertCtrl = alertCtrl;\r\n        this.navCtrl = navCtrl;\r\n        this.navParams = navParams;\r\n        this.phoneService = phoneService;\r\n        this.code = '';\r\n    }\r\n    VerificationPage.prototype.ngOnInit = function () {\r\n        this.phone = this.navParams.get('phone');\r\n    };\r\n    VerificationPage.prototype.onInputKeypress = function (_a) {\r\n        var keyCode = _a.keyCode;\r\n        if (keyCode === 13) {\r\n            this.verify();\r\n        }\r\n    };\r\n    VerificationPage.prototype.verify = function () {\r\n        var _this = this;\r\n        this.phoneService.login(this.phone, this.code).then(function () {\r\n            _this.navCtrl.setRoot(profile_1.ProfilePage, {}, {\r\n                animate: true\r\n            });\r\n        });\r\n    };\r\n    VerificationPage.prototype.handleError = function (e) {\r\n        console.error(e);\r\n        var alert = this.alertCtrl.create({\r\n            title: 'Oops!',\r\n            message: e.message,\r\n            buttons: ['OK']\r\n        });\r\n        alert.present();\r\n    };\r\n    VerificationPage = __decorate([\r\n        core_1.Component({\r\n            template: verification_html_1.default\r\n        }), \r\n        __metadata('design:paramtypes', [Object, Object, Object, phone_1.PhoneService])\r\n    ], VerificationPage);\r\n    return VerificationPage;\r\n}());\r\nexports.VerificationPage = VerificationPage;\r\n//# sourceMappingURL=verification.js.map","sourceMap":{"version":3,"file":"verification.js","sourceRoot":"","sources":["client/imports/pages/verification/verification.ts"],"names":[],"mappings":"AAAA,qBAAkC,eAAe,CAAC,CAAA;AAClD,8BAA0D,eAAe,CAAC,CAAA;AAC1E,wBAA4B,oBAAoB,CAAC,CAAA;AACjD,sBAA6B,sBAAsB,CAAC,CAAA;AACpD,kCAAqB,qBAAqB,CAAC,CAAA;AAK3C;IAIE,0BACU,SAA0B,EAC1B,OAAsB,EACtB,SAAoB,EACpB,YAA0B;QAH1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,iBAAY,GAAZ,YAAY,CAAc;QAPpC,SAAI,GAAW,EAAE,CAAC;IAQf,CAAC;IAEJ,mCAAQ,GAAR;QACE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAC3C,CAAC;IAED,0CAAe,GAAf,UAAgB,EAAwB;YAAvB,oBAAO;QACtB,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC;IACH,CAAC;IAED,iCAAM,GAAN;QAAA,iBAMC;QALC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;YAClD,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,qBAAW,EAAE,EAAE,EAAE;gBACpC,OAAO,EAAE,IAAI;aACd,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sCAAW,GAAX,UAAY,CAAQ;QAClB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAEjB,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAClC,KAAK,EAAE,OAAO;YACd,OAAO,EAAE,CAAC,CAAC,OAAO;YAClB,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC;QAEH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IA1CH;QAAC,gBAAS,CAAC;YACT,qCAAQ;SACT,CAAC;;wBAAA;IAyCF,uBAAC;AAAD,CAAC,AAxCD,IAwCC;AAxCY,wBAAgB,mBAwC5B,CAAA","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\r\nimport { ProfilePage } from '../profile/profile';\r\nimport { PhoneService } from '../../services/phone';\r\nimport template from './verification.html';\r\n \r\n@Component({\r\n  template\r\n})\r\nexport class VerificationPage implements OnInit {\r\n  code: string = '';\r\n  phone: string;\r\n \r\n  constructor(\r\n    private alertCtrl: AlertController,\r\n    private navCtrl: NavController,\r\n    private navParams: NavParams,\r\n    private phoneService: PhoneService\r\n  ) {}\r\n \r\n  ngOnInit() {\r\n    this.phone = this.navParams.get('phone');\r\n  }\r\n \r\n  onInputKeypress({keyCode}: KeyboardEvent): void {\r\n    if (keyCode === 13) {\r\n      this.verify();\r\n    }\r\n  }\r\n \r\n  verify(): void {\r\n    this.phoneService.login(this.phone, this.code).then(() => {\r\n      this.navCtrl.setRoot(ProfilePage, {}, {\r\n        animate: true\r\n      });\r\n    });\r\n  }\r\n \r\n  handleError(e: Error): void {\r\n    console.error(e);\r\n \r\n    const alert = this.alertCtrl.create({\r\n      title: 'Oops!',\r\n      message: e.message,\r\n      buttons: ['OK']\r\n    });\r\n \r\n    alert.present();\r\n  }\r\n}"]},"version":"1","isExternal":true,"references":{"files":[],"modules":["client/imports/pages/profile/profile.ts","client/imports/services/phone.ts"],"typings":[]},"diagnostics":{"syntacticErrors":[],"semanticErrors":[{"code":2304,"fileName":"client/imports/pages/verification/verification.ts","message":"Cannot find name 'OnInit'.","line":10,"column":42},{"code":2304,"fileName":"client/imports/pages/verification/verification.ts","message":"Cannot find name 'AlertController'.","line":15,"column":24},{"code":2304,"fileName":"client/imports/pages/verification/verification.ts","message":"Cannot find name 'NavController'.","line":16,"column":22},{"code":2304,"fileName":"client/imports/pages/verification/verification.ts","message":"Cannot find name 'NavParams'.","line":17,"column":24}]},"hash":"97b92ceccf31751262b389b4182ce4db6f8409c2"}