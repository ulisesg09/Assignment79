{"code":"var core_1 = require('@angular/core');\r\nvar ionic_angular_1 = require('ionic-angular');\r\nvar meteor_rxjs_1 = require('meteor-rxjs');\r\nvar chats_1 = require('../chats/chats');\r\nvar profile_html_1 = require('./profile.html');\r\nvar ProfilePage = (function () {\r\n    function ProfilePage(alertCtrl, navCtrl) {\r\n        this.alertCtrl = alertCtrl;\r\n        this.navCtrl = navCtrl;\r\n    }\r\n    ProfilePage.prototype.ngOnInit = function () {\r\n        this.profile = Meteor.user().profile || {\r\n            name: ''\r\n        };\r\n    };\r\n    ProfilePage.prototype.updateProfile = function () {\r\n        var _this = this;\r\n        meteor_rxjs_1.MeteorObservable.call('updateProfile', this.profile).subscribe({\r\n            next: function () {\r\n                _this.navCtrl.push(chats_1.ChatsPage);\r\n            },\r\n            error: function (e) {\r\n                _this.handleError(e);\r\n            }\r\n        });\r\n    };\r\n    ProfilePage.prototype.handleError = function (e) {\r\n        console.error(e);\r\n        var alert = this.alertCtrl.create({\r\n            title: 'Oops!',\r\n            message: e.message,\r\n            buttons: ['OK']\r\n        });\r\n        alert.present();\r\n    };\r\n    ProfilePage = __decorate([\r\n        core_1.Component({\r\n            template: profile_html_1.default\r\n        }), \r\n        __metadata('design:paramtypes', [Object, Object])\r\n    ], ProfilePage);\r\n    return ProfilePage;\r\n}());\r\nexports.ProfilePage = ProfilePage;\r\n//# sourceMappingURL=profile.js.map","sourceMap":{"version":3,"file":"profile.js","sourceRoot":"","sources":["client/imports/pages/profile/profile.ts"],"names":[],"mappings":"AAAA,qBAAkC,eAAe,CAAC,CAAA;AAClD,8BAA+C,eAAe,CAAC,CAAA;AAC/D,4BAAiC,aAAa,CAAC,CAAA;AAE/C,sBAA0B,gBAAgB,CAAC,CAAA;AAC3C,6BAAqB,gBAAgB,CAAC,CAAA;AAKtC;IAIE,qBACU,SAA0B,EAC1B,OAAsB;QADtB,cAAS,GAAT,SAAS,CAAiB;QAC1B,YAAO,GAAP,OAAO,CAAe;IAC7B,CAAC;IAEJ,8BAAQ,GAAR;QACE,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,OAAO,IAAI;YACtC,IAAI,EAAE,EAAE;SACT,CAAC;IACJ,CAAC;IAED,mCAAa,GAAb;QAAA,iBASC;QARC,8BAAgB,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC;YAC7D,IAAI,EAAE;gBACJ,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAS,CAAC,CAAC;YAC/B,CAAC;YACD,KAAK,EAAE,UAAC,CAAQ;gBACd,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACtB,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,iCAAW,GAAX,UAAY,CAAQ;QAClB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAEjB,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAClC,KAAK,EAAE,OAAO;YACd,OAAO,EAAE,CAAC,CAAC,OAAO;YAClB,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC;QAEH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAvCH;QAAC,gBAAS,CAAC;YACT,gCAAQ;SACT,CAAC;;mBAAA;IAsCF,kBAAC;AAAD,CAAC,AArCD,IAqCC;AArCY,mBAAW,cAqCvB,CAAA","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, NavController } from 'ionic-angular';\r\nimport { MeteorObservable } from 'meteor-rxjs';\r\nimport { Profile } from '../../../../imports/models';\r\nimport { ChatsPage } from '../chats/chats';\r\nimport template from './profile.html';\r\n \r\n@Component({\r\n  template\r\n})\r\nexport class ProfilePage implements OnInit {\r\n  picture: string;\r\n  profile: Profile;\r\n \r\n  constructor(\r\n    private alertCtrl: AlertController,\r\n    private navCtrl: NavController\r\n  ) {}\r\n \r\n  ngOnInit(): void {\r\n    this.profile = Meteor.user().profile || {\r\n      name: ''\r\n    };\r\n  }\r\n \r\n  updateProfile(): void {\r\n    MeteorObservable.call('updateProfile', this.profile).subscribe({\r\n      next: () => {\r\n        this.navCtrl.push(ChatsPage);\r\n      },\r\n      error: (e: Error) => {\r\n        this.handleError(e);\r\n      }\r\n    });\r\n  }\r\n \r\n  handleError(e: Error): void {\r\n    console.error(e);\r\n \r\n    const alert = this.alertCtrl.create({\r\n      title: 'Oops!',\r\n      message: e.message,\r\n      buttons: ['OK']\r\n    });\r\n \r\n    alert.present();\r\n  }\r\n}"]},"version":"1","isExternal":true,"references":{"files":[],"modules":["imports/models.ts","client/imports/pages/chats/chats.ts"],"typings":[]},"diagnostics":{"syntacticErrors":[],"semanticErrors":[{"code":2304,"fileName":"client/imports/pages/profile/profile.ts","message":"Cannot find name 'OnInit'.","line":11,"column":37},{"code":2304,"fileName":"client/imports/pages/profile/profile.ts","message":"Cannot find name 'AlertController'.","line":16,"column":24},{"code":2304,"fileName":"client/imports/pages/profile/profile.ts","message":"Cannot find name 'NavController'.","line":17,"column":22},{"code":2304,"fileName":"client/imports/pages/profile/profile.ts","message":"Cannot find name 'Meteor'.","line":21,"column":20}]},"hash":"18709436971fd41d92008591f75dc8feffe4aed6"}